import React, { useState, useEffect } from 'react'
import { useRouter } from 'next/router'
import Link from 'next/link'
import Search from '../components/Search/SearchComp'
import { Button } from 'semantic-ui-react'
import { useTranslation } from 'react-i18next'
import NotificationItem from './Notifications/NotificationItem'
import { useDispatch,useSelector } from 'react-redux'

import {
    Checkbox,
    Grid,
    Header,
    Icon,
    Image,
    Menu,
    Segment,
    Sidebar,
} from 'semantic-ui-react'
import { checkUserActiveAssignment, getUserNotifications } from '../src/utils/apis'
import Happy from './Bees/Happy'
export default function TopHeader() {
    const router = useRouter()
    const state = useSelector(state => state.mainReducer)
    const loggedInUser = state.loggedInUser
    const [show, setShow] = useState(false)
    const { t, i18n } = useTranslation([], { useSuspense: false });
    const [visible, setVisible] = React.useState(false)
    const [loading, setLoading] = useState(true)
    const [activeAssignments, setActive] = useState(0)
    const [notifications, setNotifications] = useState([])

    const dispatch = useDispatch()

    const showsearchbar = () => {

        if (show == false) {
            setShow(true)
        }
        else
            setShow(false)


    }

    const onSignOut = () => {
        localStorage.removeItem('userLoggedIn');
        localStorage.removeItem('userLoggedData');
        dispatch({ type: "USER_LOGGED_IN_TOGGLE", message: { userLoggedIn: false } })
        window.location.href = '/logintype'
        // router.reload()




    }

    useEffect(async () => {
        let notifications = await getUserNotifications(loggedInUser.userData._id)
        setLoading(false)
        setNotifications(notifications)

        let active = await checkUserActiveAssignment(loggedInUser.userData._id)

        setActive(active)

      
        


        if(loggedInUser.userData.type === "student" && active > 0) {
            //router.push("/home/assignments");
        }
        

        // router.push("home/assignments");
        return () => {

        }
    }, [])

    return (
        <div className="header-items">
            <Link href={loggedInUser.userData.type == 'teacher' ? "/home/openLibrary" : "/home/level"}>
                <div className="top-logo">
                    <svg height="7vh" viewBox="0 0 181 59" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M78.7152 22.6518C77.6564 22.2111 75.7152 23.9299 72.0534 27.2355C71.4799 27.7644 70.8622 28.2933 70.2887 28.8221C70.2887 27.5881 70.2887 26.0896 70.3328 24.1944C70.3328 23.1366 69.1416 22.4755 68.3916 22.4755C68.0387 22.4314 67.6416 22.6077 67.3328 22.8722C67.0681 23.1366 66.5828 23.7536 66.5828 24.8555C66.4946 29.6155 66.4946 31.9073 67.024 41.1187C67.0681 41.9121 67.6857 42.485 68.5681 42.485C68.5681 42.485 68.5681 42.485 68.6122 42.485C69.4505 42.485 70.3328 41.9121 70.3328 40.9424C70.3328 39.0913 70.3328 37.7691 70.2887 36.6673C70.2887 36.3147 70.2887 35.9621 70.2887 35.6095C70.6416 36.0062 71.0387 36.4028 71.4358 36.7995C72.6269 37.9895 73.9505 39.3558 75.2299 40.9424C75.9358 41.8239 76.9064 42.3087 77.7446 42.1765C78.2299 42.0884 78.627 41.8239 78.8034 41.3832C79.024 40.8543 78.9799 39.9287 77.7887 38.4302L77.3475 37.9014C75.9358 36.1384 74.4358 34.3754 72.3181 31.9073C74.7887 29.6595 75.6711 28.6899 76.5093 27.8084C77.1711 27.1033 77.7005 26.5303 78.9358 25.4284C79.4652 24.9877 79.6858 24.2385 79.5534 23.5773C79.4652 23.2248 79.1564 22.8281 78.7152 22.6518Z" fill="black" />
                        <path d="M93.2286 22.5175C92.4345 22.6497 91.6404 23.3108 91.7728 24.4126C91.9492 26.2197 92.4786 35.2548 91.8169 36.7974C91.1992 38.2078 89.9639 39.0011 88.6845 38.8248C87.361 38.6485 86.3904 37.4144 86.1698 35.6515C86.0375 34.9463 86.0375 25.5145 86.0816 24.3686C86.1698 23.5752 85.5522 22.9141 84.6257 22.7378C83.7433 22.6056 82.6845 23.0023 82.3757 24.1923C82.111 25.2941 82.1992 28.1148 82.2875 31.1119C82.3316 32.5222 82.3757 33.9767 82.3757 35.1667C82.3757 37.1059 83.3022 39.1774 84.8022 40.6318C85.9492 41.7337 87.3169 42.3507 88.5963 42.3507C88.6404 42.3507 88.6845 42.3507 88.7286 42.3507C92.9198 42.3066 95.1698 39.9707 95.6551 35.1667C96.0522 31.2 95.7875 25.6908 95.5228 24.2804C95.1698 22.9141 94.111 22.3852 93.2286 22.5175Z" fill="black" />
                        <path d="M114.142 22.6102C113.921 22.6102 113.392 22.6102 112.642 22.6102C106.686 22.5221 100.466 22.5221 99.4508 22.7425C98.7891 22.8747 98.4361 23.5358 98.4803 24.3732C98.5244 25.0784 98.8332 25.8276 99.5391 25.9158C100.642 26.0039 102.716 26.048 105.186 26.048C105.23 27.811 105.274 29.2654 105.319 31.0724C105.407 33.3202 105.495 36.1409 105.627 40.8127C105.671 41.9587 106.466 42.4876 107.216 42.4876C108.054 42.4876 108.936 41.8265 108.936 40.6365C108.936 34.4661 108.936 34.4661 108.892 28.3839V26.048C110.657 26.0039 112.201 25.9599 113.171 25.9599C113.701 25.9599 114.054 25.9158 114.142 25.9158C115.069 25.9158 115.554 25.0784 115.554 24.241C115.598 23.2714 114.98 22.6102 114.142 22.6102Z" fill="black" />
                        <path d="M129.186 22.5175C128.392 22.6497 127.597 23.3108 127.73 24.4126C127.906 26.2197 128.436 35.2548 127.774 36.7974C127.156 38.2078 125.921 39.0011 124.642 38.8248C123.318 38.6485 122.347 37.4144 122.127 35.6515C121.994 34.9463 121.994 25.5145 122.039 24.3686C122.127 23.5752 121.509 22.9141 120.583 22.7378C119.7 22.6056 118.642 23.0023 118.333 24.1923C118.068 25.2941 118.156 28.1148 118.244 31.1119C118.289 32.5222 118.333 33.9767 118.333 35.1667C118.333 37.1059 119.259 39.1774 120.759 40.6318C121.906 41.7337 123.274 42.3507 124.553 42.3507C124.597 42.3507 124.642 42.3507 124.686 42.3507C128.877 42.3066 131.127 39.9707 131.612 35.1667C132.009 31.2 131.745 25.6908 131.48 24.2804C131.171 22.9141 130.068 22.3852 129.186 22.5175Z" fill="black" />
                        <path d="M147.185 26.351C146.258 24.6762 143.567 21.9436 135.935 22.6488C134.611 22.8251 134.391 23.5303 134.435 24.0592C134.699 28.9955 134.7 30.6703 134.744 33.9758C134.744 35.3421 134.788 37.0169 134.788 39.3088C134.832 42.3499 136.905 42.5702 139.023 42.5702C139.111 42.5702 139.155 42.5702 139.244 42.5702C145.067 42.5702 147.185 40.7191 147.979 39.1325C148.905 37.2814 148.464 34.8573 146.788 32.5214C147.891 30.9347 148.376 28.5107 147.185 26.351ZM144.405 34.9895C144.802 35.3421 144.979 35.8269 144.979 36.6643C144.979 38.4714 144.008 39.0884 138.494 39.1765L138.317 34.5047C141.714 34.108 143.611 34.2843 144.405 34.9895ZM144.317 28.9073C144.361 29.8769 143.655 31.0229 142.244 31.1551C140.7 31.3314 139.376 31.4195 138.273 31.4195L138.052 26.2629L139.597 26.2188C142.994 26.2188 144.273 27.6732 144.317 28.9073Z" fill="black" />
                        <path d="M162.935 38.8252C157.508 38.8252 155.038 38.8252 154.729 38.6049C154.729 38.5608 154.729 38.4727 154.729 38.3845V34.506C157.067 34.5501 160.288 34.4619 162.361 34.2416C163.023 34.1975 163.376 33.4923 163.42 32.7871C163.508 31.9057 163.111 31.2005 162.449 31.0683C161.302 30.8038 157.023 30.9801 154.817 31.0683V27.1898C154.817 26.5727 154.817 26.5287 155.523 26.4405C156.582 26.2642 158.699 26.2642 162.979 26.2642C163.949 26.2642 164.655 25.6472 164.699 24.7216C164.744 24.1046 164.479 23.4435 164.082 23.0028C163.773 22.6502 163.376 22.4739 162.979 22.4739C151.641 22.4739 151.155 22.4739 151.155 27.6305C151.155 28.6883 151.155 29.2612 151.155 29.7461C151.111 30.936 151.111 31.9057 151.244 38.2082C151.244 42.4834 151.685 42.4834 162.979 42.4834C163.597 42.4834 164.126 42.1749 164.479 41.69C164.788 41.2052 164.876 40.6323 164.655 40.1475C164.258 39.3101 163.641 38.8252 162.935 38.8252Z" fill="black" />
                        <path d="M180.892 40.1915C180.584 39.3101 179.922 38.8252 179.216 38.8252C173.79 38.8252 171.319 38.8252 171.01 38.6049C171.01 38.5608 171.01 38.4727 171.01 38.3845V34.506C173.348 34.5501 176.569 34.4619 178.642 34.2416C179.304 34.1975 179.657 33.4923 179.701 32.7871C179.79 31.9057 179.392 31.2005 178.731 31.0683C177.584 30.8038 173.304 30.9801 171.098 31.0683V27.1898C171.098 26.5727 171.098 26.5287 171.804 26.4405C172.863 26.2642 174.981 26.2642 179.26 26.2642C180.231 26.2642 180.937 25.6472 180.981 24.7216C181.025 24.1046 180.76 23.4435 180.363 23.0028C180.054 22.6502 179.657 22.4739 179.26 22.4739C167.922 22.4739 167.437 22.4739 167.437 27.6305C167.437 28.6883 167.437 29.2612 167.437 29.7461C167.392 30.936 167.392 31.9057 167.525 38.2082C167.525 42.4834 167.966 42.4834 179.26 42.4834C179.878 42.4834 180.407 42.1749 180.76 41.69C181.025 41.2934 181.069 40.6764 180.892 40.1915Z" fill="black" />
                        <path d="M7.69603 34.647C3.43002 38.1365 2.80013 44.4291 6.29311 48.6908C9.78609 52.9526 16.0849 53.5819 20.3509 50.0924L29.4842 42.6271C33.7502 39.1376 34.3801 32.845 30.8871 28.5833C27.3941 24.3215 21.0953 23.6922 16.8293 27.1817L7.69603 34.647Z" fill="#AFE0E9" />
                        <path d="M47.6101 34.5325C51.9048 37.9934 52.5919 44.286 49.1276 48.5763C45.6632 52.8667 39.3644 53.5532 35.0698 50.0923L25.8792 42.6842C21.5846 39.2233 20.8974 32.9308 24.3618 28.6404C27.8261 24.35 34.1249 23.6636 38.4196 27.1245L47.6101 34.5325Z" fill="#AFE0E9" />
                        <path d="M25.1914 30.3564L17.7473 21.2322C14.2543 16.9704 7.95553 16.3412 3.66088 19.8307C-0.60514 23.3202 -1.23502 29.6127 2.25796 33.8745C4.2335 36.3057 6.2663 38.7941 8.2991 41.2253C10.246 43.5421 12.1643 46.002 14.7124 47.7467C14.8556 47.8325 14.9701 47.8039 15.056 47.6895C15.1705 47.6609 15.2564 47.5751 15.2564 47.4321C15.2278 47.0889 15.2278 46.7456 15.1992 46.4024C18.1195 47.0889 21.2976 46.4596 23.7885 44.4002C28.0545 40.9107 28.6844 34.6182 25.1914 30.3564Z" fill="#83D2E3" />
                        <path d="M30.1173 30.3564L37.59 21.2322C41.083 16.9704 47.3818 16.3412 51.6478 19.8307C55.9138 23.3202 56.5437 29.6127 53.0507 33.8745C51.0752 36.3057 49.0424 38.7941 47.0096 41.2253C45.0627 43.5421 43.1444 46.002 40.5963 47.7467C40.4531 47.8325 40.3386 47.8039 40.2527 47.6895C40.1382 47.6609 40.0523 47.5751 40.0523 47.4321C40.0809 47.0889 40.0809 46.7456 40.1095 46.4024C37.1892 47.0889 34.0111 46.4596 31.5203 44.4002C27.2542 40.9107 26.6244 34.6182 30.1173 30.3564Z" fill="#83D2E3" />
                        <path d="M29.1692 57.0425C29.0833 57.5002 28.9974 57.9864 28.7111 58.3868C28.3388 58.8731 27.6231 58.9303 27.165 58.5013C26.7928 58.158 26.6496 57.6432 26.5351 57.1855C26.3919 56.6707 26.3347 56.1558 26.2488 55.641C26.1056 54.5827 26.0197 53.4958 25.7907 52.4375C25.5903 51.4364 25.8479 50.9216 26.3633 50.4925C26.7641 50.1493 27.2795 49.8633 27.7376 49.8633C28.3388 49.8633 29.255 50.2065 29.6559 51.0646C29.9422 51.7511 29.6272 52.7235 29.5127 53.41C29.3696 54.2681 29.3696 55.1548 29.2837 56.0414C29.255 56.3561 29.2264 56.6993 29.1692 57.0425Z" fill="black" />
                        <path d="M40.0505 0.924357C39.1915 0.152089 37.9318 -0.105333 36.7293 0.0376792C35.2691 0.209294 33.8662 0.895755 32.7209 1.81104C30.0296 3.98483 28.5981 7.30272 28.5122 10.7064C28.4836 11.5073 29.7433 11.5073 29.772 10.7064C29.8292 8.13219 30.7168 5.72958 32.4633 3.81321C33.3222 2.86933 34.4102 1.95405 35.6127 1.55361C36.3571 1.29619 37.1587 1.15318 37.9318 1.26759C38.2754 1.32479 38.5903 1.4106 38.9052 1.58222C39.1629 1.72523 39.5065 2.06846 39.621 2.35448C38.9052 2.66911 38.304 3.21256 38.6189 4.07063C38.9339 4.95731 40.1936 5.15753 40.7949 4.47107C41.1957 4.01343 41.1671 3.21256 41.0239 2.64051C40.8808 1.92545 40.5372 1.3534 40.0505 0.924357Z" fill="black" />
                        <path d="M15.0852 1.01018C15.9441 0.209312 17.2039 -0.0481103 18.4064 0.0949023C19.8666 0.266517 21.2695 0.924375 22.4147 1.83966C25.1347 3.98484 26.5662 7.30274 26.6808 10.7064C26.7094 11.5073 25.4496 11.5073 25.421 10.7064C25.3351 8.13221 24.4475 5.7296 22.701 3.81323C21.8421 2.89795 20.7255 1.95407 19.523 1.55363C18.7786 1.32481 17.9769 1.1532 17.2039 1.26761C16.889 1.32481 16.5454 1.43922 16.2591 1.61084C16.0014 1.75385 15.6578 2.09708 15.5433 2.3831C16.0587 2.58332 16.4881 2.86935 16.6313 3.4414C16.9462 4.6427 15.1425 5.32916 14.3694 4.47109C13.94 4.01345 13.9972 3.21258 14.1404 2.64053C14.2835 2.03987 14.6271 1.43922 15.0852 1.01018Z" fill="black" />
                        <path d="M44.1448 29.2124C44.1448 28.8119 44.1448 28.3829 44.1448 27.9824C44.1448 27.8966 44.1448 27.8108 44.1448 27.725C44.1448 27.2674 44.1162 26.8383 44.1162 26.3807C44.1162 26.3235 44.1162 26.2377 44.1162 26.1805C44.0875 25.7228 44.0589 25.2938 44.0303 24.8362C44.0303 24.8076 44.0303 24.779 44.0303 24.779C44.0016 24.2927 43.9444 23.8351 43.8871 23.3488C43.8871 23.2916 43.8871 23.2344 43.8585 23.2058C43.8012 22.7196 43.744 22.2619 43.6581 21.7757C42.9709 17.5139 41.4248 13.5096 38.1609 10.5635C37.9891 10.3919 37.7887 10.2203 37.5883 10.0773C34.8111 7.78907 31.3181 6.50195 27.7106 6.50195H27.682C27.6533 6.50195 27.6533 6.50195 27.6247 6.50195C27.6247 6.50195 27.6247 6.50195 27.5961 6.50195C27.5961 6.50195 27.5961 6.50195 27.5674 6.50195C27.5388 6.50195 27.5388 6.50195 27.5102 6.50195H27.4816C23.8741 6.50195 20.3811 7.81767 17.6039 10.0773C17.4034 10.2489 17.2317 10.3919 17.0312 10.5635C13.8246 13.4524 12.2785 17.4567 11.5914 21.7185C11.5055 22.2047 11.4482 22.6624 11.3909 23.1486C11.3909 23.2058 11.3909 23.263 11.3623 23.2916C11.305 23.7779 11.2478 24.2355 11.2192 24.7218C11.2192 24.7504 11.2192 24.779 11.2192 24.779C11.1905 25.2366 11.1619 25.6656 11.1333 26.1233C11.1333 26.1805 11.1333 26.2663 11.1333 26.3235C11.1046 26.7811 11.1046 27.2102 11.1046 27.6678C11.1046 27.7536 11.1046 27.8394 11.1046 27.9252C11.1046 28.3257 11.1046 28.7547 11.1046 29.1551C11.1046 29.2124 11.1046 29.241 11.1046 29.2982C11.076 32.3014 11.2478 35.3333 11.62 38.2221C12.1067 42.1121 13.1661 46.1736 15.1702 49.5773C16.5159 51.8655 18.4342 53.6389 20.6388 54.8402C20.6674 54.8688 20.696 54.8688 20.7246 54.8974C22.9006 56.0987 25.277 56.6708 27.6247 56.6422C29.9725 56.6422 32.3488 56.0987 34.5248 54.8974C34.5534 54.8688 34.582 54.8688 34.6107 54.8402C36.8153 53.6389 38.7335 51.8369 40.0792 49.5773C42.0834 46.1736 43.1427 42.1121 43.6294 38.2221C44.0016 35.3333 44.1734 32.3014 44.1448 29.2982C44.1448 29.2982 44.1448 29.2696 44.1448 29.2124Z" fill="#FFD130" />
                        <path d="M21.9547 24.5788C23.1572 26.6382 25.419 27.6393 27.7668 27.6107C30.0286 27.5535 32.0041 26.6668 33.1208 24.636C33.493 23.9496 32.4622 23.3489 32.09 24.0354C31.1738 25.6943 29.5991 26.3808 27.7668 26.4094C25.8485 26.438 23.9875 25.6943 23.014 23.9782C22.6132 23.3203 21.5825 23.921 21.9547 24.5788Z" fill="black" />
                        <path d="M39.5351 15.6832C39.5351 19.1727 36.7007 21.9757 33.2363 21.9757C29.772 21.9757 26.9375 19.1441 26.9375 15.6832C26.9375 12.1937 29.772 9.39062 33.2363 9.39062C36.7007 9.39062 39.5351 12.2223 39.5351 15.6832Z" fill="white" />
                        <path d="M34.667 17.1135C34.667 18.3148 33.6935 19.3159 32.4624 19.3159C31.2599 19.3159 30.2578 18.3434 30.2578 17.1135C30.2578 15.9122 31.2313 14.9111 32.4624 14.9111C33.6649 14.9397 34.667 15.9122 34.667 17.1135Z" fill="black" />
                        <path d="M28.2851 15.6832C28.2851 19.1727 25.4507 21.9757 21.9863 21.9757C18.522 21.9757 15.6875 19.1441 15.6875 15.6832C15.6875 12.1937 18.522 9.39062 21.9863 9.39062C25.4507 9.39062 28.2851 12.2223 28.2851 15.6832Z" fill="white" />
                        <path d="M24.9326 17.1992C24.9326 18.4005 23.9592 19.4016 22.728 19.4016C21.5255 19.4016 20.5234 18.4291 20.5234 17.1992C20.5234 15.9979 21.4969 14.9968 22.728 14.9968C23.9592 15.0254 24.9326 15.9979 24.9326 17.1992Z" fill="black" />
                        <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="11" y="6" width="34" height="51">
                            <path d="M44.2307 29.3871C44.2307 28.9867 44.2307 28.5577 44.2307 28.1572C44.2307 28.0714 44.2307 27.9856 44.2307 27.8998C44.2307 27.4422 44.2021 27.0131 44.2021 26.5555C44.2021 26.4983 44.2021 26.4125 44.2021 26.3553C44.1735 25.8976 44.1448 25.4686 44.1162 25.011C44.1162 24.9824 44.1162 24.9538 44.1162 24.9538C44.0876 24.4675 44.0303 24.0099 43.973 23.5236C43.973 23.4664 43.973 23.4092 43.9444 23.3806C43.8872 22.8944 43.8299 22.4367 43.744 21.9505C43.0569 17.6887 41.5108 13.6844 38.2469 10.7383C38.0751 10.5667 37.8746 10.3951 37.6742 10.2521C34.897 7.96387 31.404 6.67676 27.7965 6.67676H27.7679C27.7393 6.67676 27.7393 6.67676 27.7106 6.67676C27.7106 6.67676 27.7107 6.67676 27.682 6.67676C27.682 6.67676 27.682 6.67676 27.6534 6.67676C27.6248 6.67676 27.6248 6.67676 27.5961 6.67676H27.5675C23.96 6.67676 20.467 7.99247 17.6898 10.2521C17.4894 10.4237 17.3176 10.5667 17.1172 10.7383C13.9105 13.6272 12.3644 17.6315 11.6773 21.8933C11.5914 22.3795 11.5341 22.8372 11.4769 23.3234C11.4769 23.3806 11.4769 23.4378 11.4482 23.4664C11.391 23.9527 11.3337 24.4103 11.3051 24.8966C11.3051 24.9252 11.3051 24.9538 11.3051 24.9538C11.2765 25.4114 11.2478 25.8404 11.2192 26.2981C11.2192 26.3553 11.2192 26.4411 11.2192 26.4983C11.1906 26.9559 11.1906 27.385 11.1906 27.8426C11.1906 27.9284 11.1906 28.0142 11.1906 28.1C11.1906 28.5005 11.1906 28.9295 11.1906 29.3299C11.1906 29.3871 11.1906 29.4158 11.1906 29.473C11.1619 32.4762 11.3337 35.5081 11.7059 38.3969C12.1927 42.2869 13.252 46.3484 15.2562 49.7521C16.6018 52.0403 18.5201 53.8137 20.7247 55.015C20.7533 55.0436 20.7819 55.0436 20.8106 55.0722C22.9865 56.2735 25.3629 56.8456 27.7106 56.817C30.0584 56.817 32.4348 56.2735 34.6107 55.0722C34.6393 55.0436 34.668 55.0436 34.6966 55.015C36.9012 53.8137 38.8195 52.0117 40.1651 49.7521C42.1693 46.3484 43.2286 42.2869 43.7154 38.3969C44.0876 35.5081 44.2594 32.4762 44.2307 29.473C44.2307 29.473 44.2307 29.4444 44.2307 29.3871Z" fill="#FFD130" />
                        </mask>
                        <g mask="url(#mask0)">
                            <path d="M46.8083 36.2208C34.3824 40.1107 21.0404 40.1679 8.58589 36.3638L8.52863 36.3352L8.5 28.0119H8.52863C20.9831 31.816 34.3252 31.7588 46.751 27.8975H46.7796L46.8083 36.2208Z" fill="black" />
                            <path d="M46.8642 49.6927H46.8356C34.3811 53.5827 21.0677 53.6113 8.61324 49.8071H8.58461L8.52734 41.4838H8.55597C21.0105 45.2879 34.3525 45.2307 46.7784 41.3694H46.807L46.8642 49.6927Z" fill="black" />
                        </g>
                    </svg>


                </div>
            </Link>

            {show ?
                <div className="header-search">
                    <Button class="ui icon button" onClick={showsearchbar}>
                        <i class="bluek large close icon"></i>
                    </Button>
                    <Search setShow={setShow} uid={loggedInUser.userData._id} />
                </div>

                :
                <>
                    <div className="header-links">
                        {loggedInUser.userData.type != "teacher" &&
                            <Link href="/home/level">
                                <div className={`btn-link levels  ${router.pathname == "/home/level" ? "active" : ""}`}>
                                    <div name="levels" className={` link-icon icon-home-levels`}>
                                    </div >
                                    <div className="text-blue">

                                        <a>  {t("filter.levels")}</a>


                                    </div>
                                </div>
                            </Link>
                        }
                        <Link href="/home/openLibrary">
                            <div className={`btn-link library  ${router.pathname == "/home/openLibrary" ? "active" : ""}`}>
                                <div name="library" className={` link-icon icon-home-library`}>
                                </div>
                                <div className="text-blue">
                                    <a>  {t("titles.openLibrary")}</a>




                                </div>

                            </div>
                        </Link>
                        {loggedInUser.userData.type == "student" &&
                            <Link href="/home/assignments">
                                <div className={`btn-link assignmnets  ${router.pathname == "/home/assignments" ? "active" : ""}`} style={{ position: 'relative' }}>
                                    <div name="assignments" className={` link-icon icon-home-assignments `}>
                                    </div>
                                    <div className="text-blue">
                                        <a>  {t("homeScreen.assignments")}</a>



                                    </div>
                                    {activeAssignments != 0 &&
                                        <div className="redbadge"> {activeAssignments} </div>
                                    }
                                </div>
                            </Link>
                        }
                    </div>
                    <div className="left-icons">

                    {loggedInUser.userData.type === "teacher" &&
                    <div onClick={onSignOut} style={{color:"#6AC3DB",justifyContent:"center",alignItems:"center",paddingTop: 6,cursor:"pointer",fontFamily:"FFHekaya-Light",fontSize:25,paddingTop:6}}>
                    نسجيل الخروج
                </div>

}
                        
                        <div className="btn-link-noborder  search" onClick={showsearchbar}>
                            <div name="search" className={` link-icon icon-search`}> </div>
                        </div>

                        

                    

                        <Sidebar.Pushable>
                            <Sidebar.Pusher >
                                <div className="btn-link-noborder notifications" onClick={(e) => setVisible(true)}>
                                    <div name="notifications" className={` link-icon icon-notifications`}> </div>
                                </div>
                            </Sidebar.Pusher>
                        </Sidebar.Pushable>

                        

                    </div>
                </>
            }
            <>

                <Sidebar className="side"
                    as={Menu}
                    animation='push'
                    icon='labeled'

                    onHide={() => setVisible(false)}
                    vertical
                    visible={visible}
                    width='very thin'
                    direction='right'
                >
                    <div className="section-title" style={{ textAlign: 'start', paddingInlineStart: '15px' }}> {t("settings.notifications")}</div>
                    {notifications.length == 0 ?
                        <div className="flex-wrapper-col" style={{ justifyContent: 'center', alignItems: "center" }}>
                            <div className="section-title" > {t("notifications.noNotifications")}</div>

                            <Happy width={126} height={134} />

                        </div>

                        :
                        notifications.map((item, index) => {
                            { console.log("nnn") }
                            return <NotificationItem item={item} />

                        })
                    }
                </Sidebar>
                {visible &&
                    <div className="sidemenu-overlay"></div>
                }

            </>
        </div>

    )
}
